<div class="subnav">
    <h3 class="page-nav-title" translate>Consumers</h3>

    <div class="button-stack right-stack">
        <button class="navbtn sd-create-btn" ng-click="createEntry()"></button>
    </div>
</div>

<section class="main-section users">

    <div class="preview-layout" ng-class="{closed: !selected.consumer}">
        <div class="list-pane">
            <header>
                <div sd-searchbar></div>
                <div class="separator-handler"></div>
                <div sd-pagination data-items="consumers"></div>
            </header>
            <div class="content">
                <div sd-shadow>
                    <div class="users-table">
                        <ul class="table-header">
                            <li>
                                <div class="row-wrapper">
                                    <div 
                                        class="name" 
                                        sd-sort 
                                        data-label="{{ 'Name' | translate }}" 
                                        data-field="name"></div>

                                    <div 
                                        class="api_key" 
                                        sd-sort 
                                        data-label="{{ 'Api key' | translate }}" 
                                        data-field="api_key"></div>
                                </div>
                            </li>
                        </ul>

                        <ul class="table-body"
                            lb-consumer-list
                            data-consumers="consumers._items"
                            data-selected="selected.consumer"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="preview-pane" ng-if="selected.consumer">
            <div class="content" sd-user-details-pane ng-if="selected.consumer">
                <div
                    id="user-profile-edit" 
                    lb-consumer-edit 
                    data-consumer="selected.consumer" 
                    data-onsave="render(consumer)" 
                    data-oncancel="closePreview()"></div>
            </div>
        </div>
    </div>
</setion>
